language: node_js
node_js:
- 11

go:
- 1.14

jobs:
  include:
    
    # Unit Test
    # - Runs any unit tests for the API
    - stage: Unit Tests
      script: ./scripts/unit-test.sh

    # Test Deploy
    # - Deploys the API to the Test environment
    # so that it can be further tested and validated
    # before going into production
    - stage: Deploy Test
      script: ./scripts/deploy-test.sh   
    
    # Integration Tests
    # - Runs a series of curl commands against
    # the deployed test API endpoint in order to validate
    # functionality
    - stage: Integration Tests       
      script: ./scripts/integration-test.sh
    
    # Production Deployment
    # - Runs the final production deploy to push changes
    # live up to the site 
    - stage: Production Deploy
      script: ./scripts/production-deploy.sh